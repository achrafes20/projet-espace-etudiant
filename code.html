<!DOCTYPE html>
<html lang="en" style="height: auto; min-height: 100%;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Services Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>
<body class="bg-gray-50" style="height: auto; min-height: 100%;" x-data="{ 
    currentView: 'student-portal',
    currentStep: 1,
    documentType: '',
    adminTab: 'dashboard',
    requestsTab: 'school-certificate',
    showModal: false,
    modalType: '',
    selectedRequest: null,
    searchQuery: '',
    statusFilter: 'all'
}">

<!-- Student Portal -->
<div x-show="currentView === 'student-portal'" class="flex flex-col">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg flex items-center justify-center">
                        <i class="fas fa-graduation-cap text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">University Portal</h1>
                        <p class="text-sm text-gray-600">Student Services</p>
                    </div>
                </div>
                <button @click="currentView = 'admin-login'" class="text-blue-600 hover:text-blue-700 text-sm font-medium">
                    <i class="fas fa-user-shield mr-2"></i>Admin Login
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full">
        <div class="grid md:grid-cols-2 gap-8">
            <!-- Document Request Card -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8 hover:shadow-md transition-shadow">
                <div class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center mb-6">
                    <i class="fas fa-file-alt text-blue-600 text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 mb-3">Request Documents</h2>
                <p class="text-gray-600 mb-6">Submit a request for school certificates, transcripts, or internship agreements.</p>
                <button @click="currentView = 'document-request'; currentStep = 1; documentType = ''" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors">
                    Start Request <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>

            <!-- Complaint Card -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8 hover:shadow-md transition-shadow">
                <div class="w-16 h-16 bg-red-100 rounded-lg flex items-center justify-center mb-6">
                    <i class="fas fa-exclamation-circle text-red-600 text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 mb-3">Submit Complaint</h2>
                <p class="text-gray-600 mb-6">Report an issue or submit a complaint regarding your request.</p>
                <button @click="currentView = 'complaint-form'" class="w-full bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-6 rounded-lg transition-colors">
                    File Complaint <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>
    </main>
</div>

<!-- Document Request Form -->
<div x-show="currentView === 'document-request'" class="flex flex-col">
    <header class="bg-white border-b border-gray-200">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <button @click="currentView = 'student-portal'" class="text-blue-600 hover:text-blue-700 text-sm font-medium mb-4">
                <i class="fas fa-arrow-left mr-2"></i>Back to Portal
            </button>
            <h1 class="text-2xl font-bold text-gray-900">Document Request</h1>
            <p class="text-gray-600 mt-1">Complete the form to request your documents</p>
        </div>
    </header>

    <main class="flex-1 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full">
        <!-- Progress Steps -->
        <div class="mb-12">
            <div class="flex items-center justify-between">
                <div class="flex flex-col items-center flex-1">
                    <div class="w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg" :class="currentStep >= 1 ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-600'">1</div>
                    <span class="text-sm mt-2 font-medium" :class="currentStep >= 1 ? 'text-blue-600' : 'text-gray-600'">Personal Info</span>
                </div>
                <div class="flex-1 h-1 mx-4" :class="currentStep >= 2 ? 'bg-blue-600' : 'bg-gray-200'"></div>
                <div class="flex flex-col items-center flex-1">
                    <div class="w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg" :class="currentStep >= 2 ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-600'">2</div>
                    <span class="text-sm mt-2 font-medium" :class="currentStep >= 2 ? 'text-blue-600' : 'text-gray-600'">Document Type</span>
                </div>
                <div class="flex-1 h-1 mx-4" :class="currentStep >= 3 ? 'bg-blue-600' : 'bg-gray-200'"></div>
                <div class="flex flex-col items-center flex-1">
                    <div class="w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg" :class="currentStep >= 3 ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-600'">3</div>
                    <span class="text-sm mt-2 font-medium" :class="currentStep >= 3 ? 'text-blue-600' : 'text-gray-600'">Confirmation</span>
                </div>
            </div>
        </div>

        <!-- Step 1: Personal Information -->
        <div x-show="currentStep === 1" class="bg-white rounded-xl shadow-sm border border-gray-200 p-8">
            <h2 class="text-xl font-bold text-gray-900 mb-6">Personal Information</h2>
            <div class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
                    <input type="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="student@university.edu">
                    <p class="text-xs text-gray-500 mt-1">Use your university email address</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Apogee Number *</label>
                    <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="12345678">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">CIN (National ID) *</label>
                    <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="AB123456">
                </div>
            </div>
            <div class="mt-8 flex justify-end">
                <button @click="currentStep = 2" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg transition-colors">
                    Next Step <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>

        <!-- Step 2: Document Type -->
        <div x-show="currentStep === 2" class="bg-white rounded-xl shadow-sm border border-gray-200 p-8">
            <h2 class="text-xl font-bold text-gray-900 mb-6">Select Document Type</h2>
            <div class="grid sm:grid-cols-2 gap-4 mb-8">
                <div @click="documentType = 'school-certificate'" class="border-2 rounded-lg p-6 cursor-pointer transition-all" :class="documentType === 'school-certificate' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'">
                    <i class="fas fa-certificate text-3xl mb-3" :class="documentType === 'school-certificate' ? 'text-blue-600' : 'text-gray-400'"></i>
                    <h3 class="font-bold text-gray-900 mb-1">School Certificate</h3>
                    <p class="text-sm text-gray-600">Certificate of enrollment</p>
                </div>
                <div @click="documentType = 'success-certificate'" class="border-2 rounded-lg p-6 cursor-pointer transition-all" :class="documentType === 'success-certificate' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'">
                    <i class="fas fa-award text-3xl mb-3" :class="documentType === 'success-certificate' ? 'text-blue-600' : 'text-gray-400'"></i>
                    <h3 class="font-bold text-gray-900 mb-1">Success Certificate</h3>
                    <p class="text-sm text-gray-600">Proof of completion</p>
                </div>
                <div @click="documentType = 'transcript'" class="border-2 rounded-lg p-6 cursor-pointer transition-all" :class="documentType === 'transcript' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'">
                    <i class="fas fa-file-invoice text-3xl mb-3" :class="documentType === 'transcript' ? 'text-blue-600' : 'text-gray-400'"></i>
                    <h3 class="font-bold text-gray-900 mb-1">Transcript</h3>
                    <p class="text-sm text-gray-600">Academic records</p>
                </div>
                <div @click="documentType = 'internship'" class="border-2 rounded-lg p-6 cursor-pointer transition-all" :class="documentType === 'internship' ? 'border-blue-600 bg-blue-50' : 'border-gray-200 hover:border-blue-300'">
                    <i class="fas fa-briefcase text-3xl mb-3" :class="documentType === 'internship' ? 'text-blue-600' : 'text-gray-400'"></i>
                    <h3 class="font-bold text-gray-900 mb-1">Internship Agreement</h3>
                    <p class="text-sm text-gray-600">Internship documentation</p>
                </div>
            </div>

            <!-- Dynamic Fields Based on Document Type -->
            <div x-show="documentType === 'internship'" class="space-y-6 mb-8">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Company Name *</label>
                    <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="Enter company name">
                </div>
                <div class="grid sm:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Start Date *</label>
                        <input type="date" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">End Date *</label>
                        <input type="date" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                    </div>
                </div>
            </div>

            <div x-show="documentType === 'transcript'" class="space-y-6 mb-8">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Academic Year *</label>
                    <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                        <option>2023-2024</option>
                        <option>2022-2023</option>
                        <option>2021-2022</option>
                    </select>
                </div>
            </div>

            <div class="mt-8 flex justify-between">
                <button @click="currentStep = 1" class="text-gray-600 hover:text-gray-800 font-medium py-3 px-8 rounded-lg transition-colors">
                    <i class="fas fa-arrow-left mr-2"></i>Previous
                </button>
                <button @click="currentStep = 3" :disabled="!documentType" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed">
                    Next Step <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>

        <!-- Step 3: Confirmation -->
        <div x-show="currentStep === 3" class="bg-white rounded-xl shadow-sm border border-gray-200 p-8">
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-check text-green-600 text-3xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900 mb-2">Request Submitted Successfully</h2>
                <p class="text-gray-600">Your request has been received and is being processed</p>
            </div>

            <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8">
                <div class="flex items-start space-x-3">
                    <i class="fas fa-info-circle text-blue-600 mt-1"></i>
                    <div>
                        <p class="font-medium text-gray-900 mb-1">Reference Number: <span class="text-blue-600">REQ-2024-001234</span></p>
                        <p class="text-sm text-gray-600">Please save this reference number for tracking your request</p>
                    </div>
                </div>
            </div>

            <div class="space-y-4 mb-8">
                <div class="flex justify-between py-3 border-b border-gray-200">
                    <span class="text-gray-600">Document Type:</span>
                    <span class="font-medium text-gray-900" x-text="documentType.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())"></span>
                </div>
                <div class="flex justify-between py-3 border-b border-gray-200">
                    <span class="text-gray-600">Submission Date:</span>
                    <span class="font-medium text-gray-900">December 20, 2024</span>
                </div>
                <div class="flex justify-between py-3 border-b border-gray-200">
                    <span class="text-gray-600">Status:</span>
                    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800">
                        <i class="fas fa-clock mr-2"></i>Pending Review
                    </span>
                </div>
            </div>

            <div class="flex justify-center">
                <button @click="currentView = 'student-portal'; currentStep = 1; documentType = ''" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg transition-colors">
                    <i class="fas fa-home mr-2"></i>Return to Portal
                </button>
            </div>
        </div>
    </main>
</div>

<!-- Complaint Form -->
<div x-show="currentView === 'complaint-form'" class="flex flex-col">
    <header class="bg-white border-b border-gray-200">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <button @click="currentView = 'student-portal'" class="text-blue-600 hover:text-blue-700 text-sm font-medium mb-4">
                <i class="fas fa-arrow-left mr-2"></i>Back to Portal
            </button>
            <h1 class="text-2xl font-bold text-gray-900">Submit Complaint</h1>
            <p class="text-gray-600 mt-1">Report an issue with your request</p>
        </div>
    </header>

    <main class="flex-1 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full">
        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8">
            <div class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Request Reference Number *</label>
                    <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="REQ-2024-001234">
                    <p class="text-xs text-gray-500 mt-1">Enter the reference number from your original request</p>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
                    <input type="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="student@university.edu">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Complaint Category *</label>
                    <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                        <option>Select a category</option>
                        <option>Processing Delay</option>
                        <option>Incorrect Information</option>
                        <option>Document Quality Issue</option>
                        <option>Other</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Description *</label>
                    <textarea rows="6" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="Please describe your complaint in detail..."></textarea>
                </div>
            </div>
            <div class="mt-8 flex justify-end space-x-4">
                <button @click="currentView = 'student-portal'" class="text-gray-600 hover:text-gray-800 font-medium py-3 px-8 rounded-lg transition-colors">
                    Cancel
                </button>
                <button class="bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-8 rounded-lg transition-colors">
                    Submit Complaint
                </button>
            </div>
        </div>
    </main>
</div>

<!-- Admin Login -->
<div x-show="currentView === 'admin-login'" class="flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full">
        <div class="text-center mb-8">
            <div class="w-20 h-20 bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-user-shield text-white text-3xl"></i>
            </div>
            <h2 class="text-3xl font-bold text-gray-900 mb-2">Admin Login</h2>
            <p class="text-gray-600">Sign in to access the admin dashboard</p>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8">
            <div class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                    <input type="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="admin@university.edu">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                    <input type="password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="••••••••">
                </div>
                <div class="flex items-center justify-between">
                    <label class="flex items-center">
                        <input type="checkbox" class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-600">
                        <span class="ml-2 text-sm text-gray-600">Remember me</span>
                    </label>
                    <a href="#" class="text-sm text-blue-600 hover:text-blue-700">Forgot password?</a>
                </div>
            </div>
            <button @click="currentView = 'admin-dashboard'; adminTab = 'dashboard'" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors mt-6">
                Sign In
            </button>
            <button @click="currentView = 'student-portal'" class="w-full text-gray-600 hover:text-gray-800 font-medium py-3 px-6 rounded-lg transition-colors mt-3">
                Back to Portal
            </button>
        </div>
    </div>
</div>

<!-- Admin Dashboard -->
<div x-show="currentView === 'admin-dashboard'" class="flex">
    <!-- Sidebar -->
    <aside class="w-64 bg-white border-r border-gray-200 flex flex-col">
        <div class="p-6 border-b border-gray-200">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg flex items-center justify-center">
                    <i class="fas fa-graduation-cap text-white"></i>
                </div>
                <div>
                    <h2 class="font-bold text-gray-900">Admin Panel</h2>
                    <p class="text-xs text-gray-600">Student Services</p>
                </div>
            </div>
        </div>

        <nav class="flex-1 p-4">
            <div class="space-y-2">
                <button @click="adminTab = 'dashboard'" class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors" :class="adminTab === 'dashboard' ? 'bg-blue-50 text-blue-600' : 'text-gray-700 hover:bg-gray-50'">
                    <i class="fas fa-chart-line w-5"></i>
                    <span class="font-medium">Dashboard</span>
                </button>
                <button @click="adminTab = 'requests'" class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors" :class="adminTab === 'requests' ? 'bg-blue-50 text-blue-600' : 'text-gray-700 hover:bg-gray-50'">
                    <i class="fas fa-file-alt w-5"></i>
                    <span class="font-medium">Requests</span>
                </button>
                <button @click="adminTab = 'complaints'" class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors" :class="adminTab === 'complaints' ? 'bg-blue-50 text-blue-600' : 'text-gray-700 hover:bg-gray-50'">
                    <i class="fas fa-exclamation-circle w-5"></i>
                    <span class="font-medium">Complaints</span>
                </button>
                <button @click="adminTab = 'history'" class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors" :class="adminTab === 'history' ? 'bg-blue-50 text-blue-600' : 'text-gray-700 hover:bg-gray-50'">
                    <i class="fas fa-history w-5"></i>
                    <span class="font-medium">History</span>
                </button>
            </div>
        </nav>

        <div class="p-4 border-t border-gray-200">
            <div class="flex items-center space-x-3 px-4 py-3">
                <div class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">
                    <i class="fas fa-user text-gray-600"></i>
                </div>
                <div class="flex-1">
                    <p class="text-sm font-medium text-gray-900">Admin User</p>
                    <p class="text-xs text-gray-600">admin@university.edu</p>
                </div>
                <button @click="currentView = 'student-portal'" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 bg-gray-50">
        <!-- Dashboard Tab -->
        <div x-show="adminTab === 'dashboard'" class="p-8">
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">Dashboard Overview</h1>
                <p class="text-gray-600">Monitor and manage student service requests</p>
            </div>

            <!-- Stats Cards -->
            <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-clock text-yellow-600 text-xl"></i>
                        </div>
                        <span class="text-sm font-medium text-yellow-600">+12%</span>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-1">48</h3>
                    <p class="text-sm text-gray-600">Pending Requests</p>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-check-circle text-green-600 text-xl"></i>
                        </div>
                        <span class="text-sm font-medium text-green-600">+8%</span>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-1">156</h3>
                    <p class="text-sm text-gray-600">Accepted Requests</p>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-times-circle text-red-600 text-xl"></i>
                        </div>
                        <span class="text-sm font-medium text-red-600">-3%</span>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-1">12</h3>
                    <p class="text-sm text-gray-600">Rejected Requests</p>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i class="fas fa-file-alt text-blue-600 text-xl"></i>
                        </div>
                        <span class="text-sm font-medium text-blue-600">+15%</span>
                    </div>
                    <h3 class="text-3xl font-bold text-gray-900 mb-1">216</h3>
                    <p class="text-sm text-gray-600">Total Requests</p>
                </div>
            </div>

            <!-- Charts -->
            <div class="grid lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="text-lg font-bold text-gray-900 mb-4">Requests by Document Type</h3>
                    <div class="h-80 overflow-hidden">
                        <canvas id="documentTypeChart"></canvas>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="text-lg font-bold text-gray-900 mb-4">Request Status Distribution</h3>
                    <div class="h-80 overflow-hidden">
                        <canvas id="statusChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Requests Tab -->
        <div x-show="adminTab === 'requests'" class="p-8">
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">Request Management</h1>
                <p class="text-gray-600">Review and process student document requests</p>
            </div>

            <!-- Document Type Tabs -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 mb-6">
                <div class="border-b border-gray-200">
                    <div class="flex space-x-8 px-6">
                        <button @click="requestsTab = 'school-certificate'" class="py-4 border-b-2 font-medium text-sm transition-colors" :class="requestsTab === 'school-certificate' ? 'border-blue-600 text-blue-600' : 'border-transparent text-gray-600 hover:text-gray-900'">
                            School Certificates
                        </button>
                        <button @click="requestsTab = 'success-certificate'" class="py-4 border-b-2 font-medium text-sm transition-colors" :class="requestsTab === 'success-certificate' ? 'border-blue-600 text-blue-600' : 'border-transparent text-gray-600 hover:text-gray-900'">
                            Success Certificates
                        </button>
                        <button @click="requestsTab = 'transcript'" class="py-4 border-b-2 font-medium text-sm transition-colors" :class="requestsTab === 'transcript' ? 'border-blue-600 text-blue-600' : 'border-transparent text-gray-600 hover:text-gray-900'">
                            Transcripts
                        </button>
                        <button @click="requestsTab = 'internship'" class="py-4 border-b-2 font-medium text-sm transition-colors" :class="requestsTab === 'internship' ? 'border-blue-600 text-blue-600' : 'border-transparent text-gray-600 hover:text-gray-900'">
                            Internship Agreements
                        </button>
                    </div>
                </div>

                <!-- Filters -->
                <div class="p-6 border-b border-gray-200">
                    <div class="flex flex-wrap gap-4">
                        <div class="flex-1 min-w-64">
                            <input type="text" x-model="searchQuery" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="Search by reference, name, or Apogee number...">
                        </div>
                        <select x-model="statusFilter" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                            <option value="all">All Status</option>
                            <option value="pending">Pending</option>
                            <option value="accepted">Accepted</option>
                            <option value="rejected">Rejected</option>
                        </select>
                        <input type="date" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                    </div>
                </div>

                <!-- Requests Table -->
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50 border-b border-gray-200">
                            <tr>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Reference</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Date</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Student Name</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Apogee Number</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Status</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600">REQ-2024-001234</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Dec 20, 2024</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Ahmed Hassan</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">12345678</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                        <i class="fas fa-clock mr-1"></i>Pending
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm">
                                    <div class="flex space-x-2">
                                        <button @click="showModal = true; modalType = 'approve'; selectedRequest = 'REQ-2024-001234'" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-xs font-medium">
                                            <i class="fas fa-check mr-1"></i>Validate
                                        </button>
                                        <button @click="showModal = true; modalType = 'reject'; selectedRequest = 'REQ-2024-001234'" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-xs font-medium">
                                            <i class="fas fa-times mr-1"></i>Reject
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600">REQ-2024-001235</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Dec 19, 2024</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Fatima Zahra</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">12345679</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                        <i class="fas fa-clock mr-1"></i>Pending
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm">
                                    <div class="flex space-x-2">
                                        <button @click="showModal = true; modalType = 'approve'; selectedRequest = 'REQ-2024-001235'" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-xs font-medium">
                                            <i class="fas fa-check mr-1"></i>Validate
                                        </button>
                                        <button @click="showModal = true; modalType = 'reject'; selectedRequest = 'REQ-2024-001235'" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-xs font-medium">
                                            <i class="fas fa-times mr-1"></i>Reject
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600">REQ-2024-001236</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Dec 18, 2024</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Youssef Benali</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">12345680</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        <i class="fas fa-check mr-1"></i>Accepted
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400">
                                    Processed
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Complaints Tab -->
        <div x-show="adminTab === 'complaints'" class="p-8">
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">Complaints Management</h1>
                <p class="text-gray-600">Review and respond to student complaints</p>
            </div>

            <div class="bg-white rounded-xl shadow-sm border border-gray-200">
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50 border-b border-gray-200">
                            <tr>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Complaint #</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Date</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Student</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Request Ref</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Category</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Status</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600">CMP-2024-001</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Dec 20, 2024</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Ahmed Hassan</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600">REQ-2024-001234</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Processing Delay</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                        <i class="fas fa-clock mr-1"></i>Open
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm">
                                    <button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-xs font-medium">
                                        <i class="fas fa-reply mr-1"></i>Respond
                                    </button>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-red-600">CMP-2024-002</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Dec 19, 2024</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Sara Alami</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600">REQ-2024-001180</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Document Quality</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        <i class="fas fa-check mr-1"></i>Resolved
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-400">
                                    Closed
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- History Tab -->
        <div x-show="adminTab === 'history'" class="p-8">
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">Request History</h1>
                <p class="text-gray-600">View all processed requests and export data</p>
            </div>

            <div class="bg-white rounded-xl shadow-sm border border-gray-200 mb-6">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex flex-wrap gap-4">
                        <div class="flex-1 min-w-64">
                            <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="Search requests...">
                        </div>
                        <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                            <option>All Document Types</option>
                            <option>School Certificate</option>
                            <option>Success Certificate</option>
                            <option>Transcript</option>
                            <option>Internship Agreement</option>
                        </select>
                        <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                            <option>All Status</option>
                            <option>Accepted</option>
                            <option>Rejected</option>
                        </select>
                        <input type="date" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                        <button class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium">
                            <i class="fas fa-download mr-2"></i>Export
                        </button>
                    </div>
                </div>

                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50 border-b border-gray-200">
                            <tr>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Reference</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Date</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Document Type</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Student</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Apogee</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Status</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-600 uppercase tracking-wider">Processed By</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600">REQ-2024-001236</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Dec 18, 2024</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">School Certificate</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Youssef Benali</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">12345680</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        <i class="fas fa-check mr-1"></i>Accepted
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Admin User</td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600">REQ-2024-001230</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Dec 17, 2024</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Transcript</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Laila Mansouri</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">12345675</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                        <i class="fas fa-check mr-1"></i>Accepted
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Admin User</td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600">REQ-2024-001225</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Dec 16, 2024</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Internship Agreement</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Karim Idrissi</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">12345670</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                        <i class="fas fa-times mr-1"></i>Rejected
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Admin User</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Modal for Approve/Reject -->
<div x-show="showModal" x-cloak class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" @click.self="showModal = false">
    <div class="bg-white rounded-xl shadow-xl max-w-md w-full" @click.stop>
        <div class="p-6 border-b border-gray-200">
            <div class="flex items-center justify-between">
                <h3 class="text-xl font-bold text-gray-900" x-text="modalType === 'approve' ? 'Validate Request' : 'Reject Request'"></h3>
                <button @click="showModal = false" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="p-6">
            <div class="mb-6">
                <p class="text-sm text-gray-600 mb-2">Request Reference:</p>
                <p class="text-lg font-bold text-blue-600" x-text="selectedRequest"></p>
            </div>
            <div x-show="modalType === 'approve'" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Upload Validated Document *</label>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer">
                        <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i>
                        <p class="text-sm text-gray-600">Click to upload or drag and drop</p>
                        <p class="text-xs text-gray-500 mt-1">PDF, DOC, DOCX (max 10MB)</p>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Notes (Optional)</label>
                    <textarea rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="Add any notes for the student..."></textarea>
                </div>
            </div>
            <div x-show="modalType === 'reject'" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Reason for Rejection *</label>
                    <select class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                        <option>Select a reason</option>
                        <option>Incomplete Information</option>
                        <option>Invalid Documents</option>
                        <option>Eligibility Issue</option>
                        <option>Other</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Additional Details *</label>
                    <textarea rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent" placeholder="Provide detailed explanation for rejection..."></textarea>
                </div>
            </div>
        </div>
        <div class="p-6 border-t border-gray-200 flex justify-end space-x-3">
            <button @click="showModal = false" class="px-6 py-2 text-gray-600 hover:text-gray-800 font-medium rounded-lg transition-colors">
                Cancel
            </button>
            <button @click="showModal = false" class="px-6 py-2 text-white font-medium rounded-lg transition-colors" :class="modalType === 'approve' ? 'bg-green-600 hover:bg-green-700' : 'bg-red-600 hover:bg-red-700'">
                <i class="fas mr-2" :class="modalType === 'approve' ? 'fa-check' : 'fa-times'"></i>
                <span x-text="modalType === 'approve' ? 'Confirm Validation' : 'Confirm Rejection'"></span>
            </button>
        </div>
    </div>
</div>

<script>
// Initialize Charts
document.addEventListener('alpine:init', () => {
    setTimeout(() => {
        // Document Type Chart
        const docTypeCtx = document.getElementById('documentTypeChart');
        if (docTypeCtx) {
            new Chart(docTypeCtx, {
                type: 'bar',
                data: {
                    labels: ['School Certificate', 'Success Certificate', 'Transcript', 'Internship Agreement'],
                    datasets: [{
                        label: 'Number of Requests',
                        data: [65, 45, 58, 48],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(16, 185, 129, 0.8)',
                            'rgba(251, 146, 60, 0.8)',
                            'rgba(139, 92, 246, 0.8)'
                        ],
                        borderColor: [
                            'rgb(59, 130, 246)',
                            'rgb(16, 185, 129)',
                            'rgb(251, 146, 60)',
                            'rgb(139, 92, 246)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // Status Chart
        const statusCtx = document.getElementById('statusChart');
        if (statusCtx) {
            new Chart(statusCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Pending', 'Accepted', 'Rejected'],
                    datasets: [{
                        data: [48, 156, 12],
                        backgroundColor: [
                            'rgba(251, 191, 36, 0.8)',
                            'rgba(16, 185, 129, 0.8)',
                            'rgba(239, 68, 68, 0.8)'
                        ],
                        borderColor: [
                            'rgb(251, 191, 36)',
                            'rgb(16, 185, 129)',
                            'rgb(239, 68, 68)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: {
                                    size: 12
                                }
                            }
                        }
                    }
                }
            });
        }
    }, 100);
});
</script>

<style>
[x-cloak] { display: none !important; }
</style>

</body>
</html>